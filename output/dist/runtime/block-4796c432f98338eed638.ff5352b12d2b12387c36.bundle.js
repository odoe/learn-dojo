
(window['dojoWebpackJsonplearn_dojo'] = window['dojoWebpackJsonplearn_dojo'] || []).push([['runtime/block-4796c432f98338eed638'],{
/***/ 'runtime/block-4796c432f98338eed638.js':
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {
"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({"content":{"tag":"div","children":[{"tag":"p","children":[{"tag":"a","children":["GraphQL"],"properties":{"href":"https://graphql.org/","target":"_blank","rel":"nofollow","key":3},"type":"__VNODE_TYPE"}," has grown in popularity over the past couple of years. Where GraphQL shines is in its descriptive nature of querying data."],"properties":{"key":4},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["If you want to write a query for the ",{"tag":"a","children":["Star Wars API"],"properties":{"href":"https://swapi.co/","target":"_blank","rel":"nofollow","key":5},"type":"__VNODE_TYPE"}," to get all the film titles, it might look something like this."],"properties":{"key":6},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":["{\n  allFilms{\n    edges{\n      node{\n        title\n      }\n    }\n  }\n}\n"],"properties":{"key":7},"type":"__VNODE_TYPE"}],"properties":{"key":8},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The query is ",{"tag":"em","children":["JSON-like"],"properties":{"key":9},"type":"__VNODE_TYPE"},", but it's not JSON. You can learn more about GraphQL on the ",{"tag":"a","children":["tutorials page"],"properties":{"href":"https://www.graphql.com/tutorials/","target":"_blank","rel":"nofollow","key":10},"type":"__VNODE_TYPE"},"."],"properties":{"key":11},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":[{"tag":"a","children":["Apollo"],"properties":{"href":"https://github.com/apollographql/apollo-client","target":"_blank","rel":"nofollow","key":12},"type":"__VNODE_TYPE"}," provides a client API you can use to work with GraphQL. It saves you some work of writing your own POST requests, so I highly recommend you learn it. Apollo provides libraries to integrate with Angular and React, but so far not one for Dojo. But that's ok, because you can use the Apollo Client to build your own GraphQL integration."],"properties":{"key":13},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Looking at ",{"tag":"a","children":["react-apollo"],"properties":{"href":"https://github.com/apollographql/react-apollo","target":"_blank","rel":"nofollow","key":14},"type":"__VNODE_TYPE"},", they have an ",{"tag":"code","children":["ApolloProvider"],"properties":{"key":15},"type":"__VNODE_TYPE"}," that you can use to wrap components of your application. This provides the Apollo client to components. Those components can then use a ",{"tag":"code","children":["Query"],"properties":{"key":16},"type":"__VNODE_TYPE"}," higher order component to pass the query and client and thus display the result."],"properties":{"key":17},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":[{"tag":"em","children":["How hard can that be?"],"properties":{"key":18},"type":"__VNODE_TYPE"}],"properties":{"key":19},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["Trust the Process"],"properties":{"id":"trust-the-process","key":20},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["When working with Dojo, most of your work with external APIs is probably going to be done in a ",{"tag":"a","children":["process"],"properties":{"href":"https://github.com/dojo/framework/tree/master/src/stores#processes","target":"_blank","rel":"nofollow","key":21},"type":"__VNODE_TYPE"},". We covered this topic in detail in ",{"tag":"a","children":["this post"],"properties":{"href":"https://learn-dojo.com/maintain-state-with-dojo-stores","target":"_blank","rel":"nofollow","key":22},"type":"__VNODE_TYPE"},"."],"properties":{"key":23},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Here is what a generic process for working with GraphQL might look like."],"properties":{"key":24},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/processes/apolloProcess.ts"],"properties":{"class":"token comment","key":25},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":26},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":27},"type":"__VNODE_TYPE"},"\n  createProcess",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":28},"type":"__VNODE_TYPE"},"\n  createCommandFactory\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":29},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":30},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/stores/process\""],"properties":{"class":"token string","key":31},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":32},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":33},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":34},"type":"__VNODE_TYPE"}," add ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":35},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":36},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/stores/state/operations\""],"properties":{"class":"token string","key":37},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":38},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":39},"type":"__VNODE_TYPE"}," commandFactory ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":40},"type":"__VNODE_TYPE"}," createCommandFactory",{"tag":"span","children":["<"],"properties":{"class":"token operator","key":41},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":42},"type":"__VNODE_TYPE"},"\n  client",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":43},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["any"],"properties":{"class":"token builtin","key":44},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":45},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["// this will be the apollo client"],"properties":{"class":"token comment","key":46},"type":"__VNODE_TYPE"},"\n  data",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":47},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["any"],"properties":{"class":"token builtin","key":48},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":49},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["// this will be graphql result"],"properties":{"class":"token comment","key":50},"type":"__VNODE_TYPE"},"\n  loaded",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":51},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["boolean"],"properties":{"class":"token builtin","key":52},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":53},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["// keep track if the data has been loaded yet"],"properties":{"class":"token comment","key":54},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":55},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token operator","key":56},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":57},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":58},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":59},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":60},"type":"__VNODE_TYPE"}," fetchData ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":61},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["commandFactory"],"properties":{"class":"token function","key":62},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":63},"type":"__VNODE_TYPE"},{"tag":"span","children":["async"],"properties":{"class":"token keyword","key":64},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":65},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":66},"type":"__VNODE_TYPE"}," path",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":67},"type":"__VNODE_TYPE"}," payload ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":68},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":69},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":70},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":71},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":72},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":73},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":74},"type":"__VNODE_TYPE"}," client",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":75},"type":"__VNODE_TYPE"}," query ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":76},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":77},"type":"__VNODE_TYPE"}," payload",{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":78},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":79},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":80},"type":"__VNODE_TYPE"}," data ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":81},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":82},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["await"],"properties":{"class":"token keyword","key":83},"type":"__VNODE_TYPE"}," client",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":84},"type":"__VNODE_TYPE"},{"tag":"span","children":["query"],"properties":{"class":"token method function property-access","key":85},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":86},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":87},"type":"__VNODE_TYPE"}," query ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":88},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":89},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":90},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":91},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":92},"type":"__VNODE_TYPE"},{"tag":"span","children":["add"],"properties":{"class":"token function","key":93},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":94},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":95},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":96},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"data\""],"properties":{"class":"token string","key":97},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":98},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":99},"type":"__VNODE_TYPE"}," data",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":100},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":101},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["add"],"properties":{"class":"token function","key":102},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":103},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":104},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":105},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"loaded\""],"properties":{"class":"token string","key":106},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":107},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":108},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["true"],"properties":{"class":"token boolean","key":109},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":110},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":111},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":112},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":113},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":114},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":115},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":116},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":117},"type":"__VNODE_TYPE"}," fetchDataProcess ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":118},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["createProcess"],"properties":{"class":"token function","key":119},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":120},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"fetch-data\""],"properties":{"class":"token string","key":121},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":122},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":123},"type":"__VNODE_TYPE"},"fetchData",{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":124},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":125},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":126},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-ts","key":127},"type":"__VNODE_TYPE"}],"properties":{"class":"language-ts","key":128},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["This process will take a given apollo client instance and a GraphQl query to fetch some results. This works pretty well because it's not tied to any particular endpoint or data structure, even though it is currently typed as ",{"tag":"code","children":["any"],"properties":{"key":129},"type":"__VNODE_TYPE"}," for client and data. I could try to work around that with some generics, but wanted to keep this example fairly simple."],"properties":{"key":130},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["Put it in a box"],"properties":{"id":"put-it-in-a-box","key":131},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["We can tie this together with a widget and ",{"tag":"a","children":["Dojo container"],"properties":{"href":"https://dojo.io/tutorials/1010_containers_and_injecting_state/","target":"_blank","rel":"nofollow","key":132},"type":"__VNODE_TYPE"},"."],"properties":{"key":133},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/containers/QueryContainer.tsx"],"properties":{"class":"token comment","key":134},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":135},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":136},"type":"__VNODE_TYPE"}," tsx ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":137},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":138},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/widget-core/tsx\""],"properties":{"class":"token string","key":139},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":140},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":141},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":142},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["WidgetBase"],"properties":{"class":"token maybe-class-name","key":143},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":144},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":145},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/widget-core/WidgetBase\""],"properties":{"class":"token string","key":146},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":147},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":148},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":149},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Store"],"properties":{"class":"token maybe-class-name","key":150},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":151},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":152},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/stores/Store\""],"properties":{"class":"token string","key":153},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":154},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":155},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":156},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["StoreContainer"],"properties":{"class":"token maybe-class-name","key":157},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":158},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":159},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/stores/StoreInjector\""],"properties":{"class":"token string","key":160},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":161},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":162},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":163},"type":"__VNODE_TYPE"}," fetchDataProcess ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":164},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":165},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"../processes/apolloProcess\""],"properties":{"class":"token string","key":166},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":167},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["// Use the ApolloClient for typing"],"properties":{"class":"token comment","key":168},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":169},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["ApolloClient"],"properties":{"class":"token maybe-class-name","key":170},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":171},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"apollo-boost\""],"properties":{"class":"token string","key":172},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":173},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["interface"],"properties":{"class":"token keyword","key":174},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["QueryProps"],"properties":{"class":"token class-name","key":175},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":176},"type":"__VNODE_TYPE"},"\n  client",{"tag":"span","children":["?"],"properties":{"class":"token operator","key":177},"type":"__VNODE_TYPE"},{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":178},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["ApolloClient"],"properties":{"class":"token maybe-class-name","key":179},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":180},"type":"__VNODE_TYPE"},"any"],"properties":{"class":"token tag","key":181},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":182},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":183},"type":"__VNODE_TYPE"},{"tag":"span","children":[";\n  query: string;\n  data?: any;\n  loaded?: boolean;\n  fetchData?: (args: any) => void;\n}\n\n// base widget that handles displaying children that use the Query\nexport class BaseQuery extends WidgetBase<QueryProps, any> "],"properties":{"class":"token plain-text","key":184},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":185},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["onAttach"],"properties":{"class":"token function","key":186},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":187},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":188},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":189},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":190},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":191},"type":"__VNODE_TYPE"}," client",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":192},"type":"__VNODE_TYPE"}," query",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":193},"type":"__VNODE_TYPE"}," loaded",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":194},"type":"__VNODE_TYPE"}," fetchData ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":195},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":196},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["this"],"properties":{"class":"token keyword","key":197},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":198},"type":"__VNODE_TYPE"},{"tag":"span","children":["properties"],"properties":{"class":"token property-access","key":199},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":200},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// if the data has not been loaded yet"],"properties":{"class":"token comment","key":201},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// and we have a query, lets get some data"],"properties":{"class":"token comment","key":202},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":203},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":204},"type":"__VNODE_TYPE"},{"tag":"span","children":["!"],"properties":{"class":"token operator","key":205},"type":"__VNODE_TYPE"},"loaded ",{"tag":"span","children":["&&"],"properties":{"class":"token operator","key":206},"type":"__VNODE_TYPE"}," query",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":207},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":208},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["fetchData"],"properties":{"class":"token function","key":209},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":210},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":211},"type":"__VNODE_TYPE"}," client",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":212},"type":"__VNODE_TYPE"}," query ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":213},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":214},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":215},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":216},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":217},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["protected"],"properties":{"class":"token keyword","key":218},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["render"],"properties":{"class":"token function","key":219},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":220},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":221},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":222},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":223},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":224},"type":"__VNODE_TYPE"}," loaded",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":225},"type":"__VNODE_TYPE"}," data ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":226},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":227},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["this"],"properties":{"class":"token keyword","key":228},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":229},"type":"__VNODE_TYPE"},{"tag":"span","children":["properties"],"properties":{"class":"token property-access","key":230},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":231},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":232},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["this"],"properties":{"class":"token keyword","key":233},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":234},"type":"__VNODE_TYPE"},{"tag":"span","children":["children"],"properties":{"class":"token property-access","key":235},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":236},"type":"__VNODE_TYPE"},{"tag":"span","children":["map"],"properties":{"class":"token method function property-access","key":237},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":238},"type":"__VNODE_TYPE"},{"tag":"span","children":["child"],"properties":{"class":"token parameter","key":239},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":240},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":241},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["// if the child nodes are a function,"],"properties":{"class":"token comment","key":242},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["// call the function with data from the"],"properties":{"class":"token comment","key":243},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["// GraphQL process"],"properties":{"class":"token comment","key":244},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":245},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":246},"type":"__VNODE_TYPE"},{"tag":"span","children":["typeof"],"properties":{"class":"token keyword","key":247},"type":"__VNODE_TYPE"}," child ",{"tag":"span","children":["==="],"properties":{"class":"token operator","key":248},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"function\""],"properties":{"class":"token string","key":249},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":250},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":251},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":252},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["child"],"properties":{"class":"token function","key":253},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":254},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":255},"type":"__VNODE_TYPE"}," loading",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":256},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["!"],"properties":{"class":"token operator","key":257},"type":"__VNODE_TYPE"},"loaded",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":258},"type":"__VNODE_TYPE"}," data ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":259},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":260},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":261},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":262},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["// or just return a regular node"],"properties":{"class":"token comment","key":263},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":264},"type":"__VNODE_TYPE"}," child",{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":265},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":266},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":267},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":268},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":269},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":270},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n\nfunction getProperties(store: Store<{ data: any; loaded: boolean }>): any "],"properties":{"class":"token plain-text","key":271},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":272},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":273},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":274},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":275},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":276},"type":"__VNODE_TYPE"}," path ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":277},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":278},"type":"__VNODE_TYPE"}," store",{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":279},"type":"__VNODE_TYPE"},"\n\n  ",{"tag":"span","children":["// pass the Dojo store properties and methods to the widget"],"properties":{"class":"token comment","key":280},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":281},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":282},"type":"__VNODE_TYPE"},"\n    data",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":283},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":284},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":285},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":286},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":287},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"data\""],"properties":{"class":"token string","key":288},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":289},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":290},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":291},"type":"__VNODE_TYPE"},"\n    loaded",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":292},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":293},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":294},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":295},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":296},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"loaded\""],"properties":{"class":"token string","key":297},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":298},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":299},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":300},"type":"__VNODE_TYPE"},"\n    fetchData",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":301},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["fetchDataProcess"],"properties":{"class":"token function","key":302},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":303},"type":"__VNODE_TYPE"},"store",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":304},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":305},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":306},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":307},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n// Use a StoreContainer\nexport const Query = StoreContainer(BaseQuery, \"state\", "],"properties":{"class":"token plain-text","key":308},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":309},"type":"__VNODE_TYPE"},"\n  getProperties\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":310},"type":"__VNODE_TYPE"},{"tag":"span","children":[");\n"],"properties":{"class":"token plain-text","key":311},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":312},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":313},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["In this snippet we provide a ",{"tag":"code","children":["BaseQuery"],"properties":{"key":314},"type":"__VNODE_TYPE"}," that is going to handle taking any queries that child widgets might provide and use those queries to to fetch some data. This widget uses a ",{"tag":"code","children":["StoreContainer"],"properties":{"key":315},"type":"__VNODE_TYPE"}," to pass the store that is updated using our process to the ",{"tag":"code","children":["BaseQuery"],"properties":{"key":316},"type":"__VNODE_TYPE"},". We can call this container a ",{"tag":"code","children":["Query"],"properties":{"key":317},"type":"__VNODE_TYPE"}," to keep it simple. This is going to allow us to write some code like the following."],"properties":{"key":318},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":319},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["class"],"properties":{"class":"token keyword","key":320},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["MyWidget"],"properties":{"class":"token class-name","key":321},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["extends"],"properties":{"class":"token keyword","key":322},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["WidgetBase"],"properties":{"class":"token class-name","key":323},"type":"__VNODE_TYPE"},{"tag":"span","children":["<"],"properties":{"class":"token operator","key":324},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":325},"type":"__VNODE_TYPE"}," client",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":326},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["any"],"properties":{"class":"token builtin","key":327},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":328},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token operator","key":329},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":330},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["protected"],"properties":{"class":"token keyword","key":331},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["render"],"properties":{"class":"token function","key":332},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":333},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":334},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":335},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":336},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":337},"type":"__VNODE_TYPE"}," client ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":338},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":339},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["this"],"properties":{"class":"token keyword","key":340},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":341},"type":"__VNODE_TYPE"},{"tag":"span","children":["properties"],"properties":{"class":"token property-access","key":342},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":343},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":344},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":345},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["// use our Query Widget with the client it's given and"],"properties":{"class":"token comment","key":346},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["// a query we have written"],"properties":{"class":"token comment","key":347},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":348},"type":"__VNODE_TYPE"},{"tag":"span","children":["Query"],"properties":{"class":"token class-name","key":349},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":350},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["query"],"properties":{"class":"token attr-name","key":351},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":352},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":353},"type":"__VNODE_TYPE"},"query",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":354},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":355},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["client"],"properties":{"class":"token attr-name","key":356},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":357},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":358},"type":"__VNODE_TYPE"},"client",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":359},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":360},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":361},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":362},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n        "],"properties":{"class":"token plain-text","key":363},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":364},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":365},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":366},"type":"__VNODE_TYPE"}," loading",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":367},"type":"__VNODE_TYPE"}," data ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":368},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":369},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":370},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":371},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":372},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":373},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":374},"type":"__VNODE_TYPE"},"loading",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":375},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":376},"type":"__VNODE_TYPE"},"\n            ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":377},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":378},"type":"__VNODE_TYPE"},"span"],"properties":{"class":"token tag","key":379},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":380},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":381},"type":"__VNODE_TYPE"},{"tag":"span","children":["Loading..."],"properties":{"class":"token plain-text","key":382},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":383},"type":"__VNODE_TYPE"},"span"],"properties":{"class":"token tag","key":384},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":385},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":386},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":387},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":388},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["else"],"properties":{"class":"token keyword","key":389},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":390},"type":"__VNODE_TYPE"},"\n            ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":391},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":392},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":393},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["classes"],"properties":{"class":"token attr-name","key":394},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":395},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":396},"type":"__VNODE_TYPE"},{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":397},"type":"__VNODE_TYPE"},"css",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":398},"type":"__VNODE_TYPE"},{"tag":"span","children":["root"],"properties":{"class":"token property-access","key":399},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":400},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":401},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":402},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":403},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":404},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":405},"type":"__VNODE_TYPE"},{"tag":"span","children":["parseMyData"],"properties":{"class":"token function","key":406},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":407},"type":"__VNODE_TYPE"},"data",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":408},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":409},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":410},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":411},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":412},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":413},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":414},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":415},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":416},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":417},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":418},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":419},"type":"__VNODE_TYPE"},{"tag":"span","children":["Query"],"properties":{"class":"token class-name","key":420},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":421},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":422},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":423},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":424},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":425},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":426},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":427},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-tsx","key":428},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":429},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["Be a good provider"],"properties":{"id":"be-a-good-provider","key":430},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["At this point you might be asking yourself, ",{"tag":"em","children":["How do I pass a client to a widget that uses this?"],"properties":{"key":431},"type":"__VNODE_TYPE"}],"properties":{"key":432},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Good question. Technically, you could create the client in your Widget module and provide it to ",{"tag":"code","children":["<Query>"],"properties":{"key":433},"type":"__VNODE_TYPE"},". But that seems kind of icky to bind backend concerns into my UI code. The way ",{"tag":"code","children":["react-apollo"],"properties":{"key":434},"type":"__VNODE_TYPE"}," does this is by providing an ",{"tag":"code","children":["<ApolloProvider>"],"properties":{"key":435},"type":"__VNODE_TYPE"}," that you can give a ",{"tag":"code","children":["client"],"properties":{"key":436},"type":"__VNODE_TYPE"}," and then wrap your application components with it. These components will have access to the Apollo ",{"tag":"code","children":["client"],"properties":{"key":437},"type":"__VNODE_TYPE"}," to give to the ",{"tag":"code","children":["Query"],"properties":{"key":438},"type":"__VNODE_TYPE"}," higher order component."],"properties":{"key":439},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["It basically looks like the ",{"tag":"code","children":["<ApolloProvider>"],"properties":{"key":440},"type":"__VNODE_TYPE"}," ",{"tag":"em","children":["provides"],"properties":{"key":441},"type":"__VNODE_TYPE"}," its ",{"tag":"code","children":["client"],"properties":{"key":442},"type":"__VNODE_TYPE"}," property to child widgets. ",{"tag":"em","children":["I can do that"],"properties":{"key":443},"type":"__VNODE_TYPE"},"."],"properties":{"key":444},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/providers/ApolloProvider.tsx"],"properties":{"class":"token comment","key":445},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":446},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":447},"type":"__VNODE_TYPE"}," tsx ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":448},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":449},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/widget-core/tsx\""],"properties":{"class":"token string","key":450},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":451},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":452},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":453},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["WidgetBase"],"properties":{"class":"token maybe-class-name","key":454},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":455},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":456},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/widget-core/WidgetBase\""],"properties":{"class":"token string","key":457},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":458},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":459},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["class"],"properties":{"class":"token keyword","key":460},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["ApolloProvider"],"properties":{"class":"token class-name","key":461},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["extends"],"properties":{"class":"token keyword","key":462},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["WidgetBase"],"properties":{"class":"token class-name","key":463},"type":"__VNODE_TYPE"},{"tag":"span","children":["<"],"properties":{"class":"token operator","key":464},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":465},"type":"__VNODE_TYPE"}," client",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":466},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["any"],"properties":{"class":"token builtin","key":467},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":468},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token operator","key":469},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":470},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["protected"],"properties":{"class":"token keyword","key":471},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["render"],"properties":{"class":"token function","key":472},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":473},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":474},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":475},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":476},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":477},"type":"__VNODE_TYPE"}," client ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":478},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":479},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["this"],"properties":{"class":"token keyword","key":480},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":481},"type":"__VNODE_TYPE"},{"tag":"span","children":["properties"],"properties":{"class":"token property-access","key":482},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":483},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["for"],"properties":{"class":"token keyword","key":484},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":485},"type":"__VNODE_TYPE"},{"tag":"span","children":["let"],"properties":{"class":"token keyword","key":486},"type":"__VNODE_TYPE"}," child ",{"tag":"span","children":["of"],"properties":{"class":"token keyword","key":487},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["this"],"properties":{"class":"token keyword","key":488},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":489},"type":"__VNODE_TYPE"},{"tag":"span","children":["children"],"properties":{"class":"token property-access","key":490},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":491},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":492},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":493},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":494},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":495},"type":"__VNODE_TYPE"},"child ",{"tag":"span","children":["as"],"properties":{"class":"token keyword","key":496},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["any"],"properties":{"class":"token builtin","key":497},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":498},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":499},"type":"__VNODE_TYPE"},{"tag":"span","children":["properties"],"properties":{"class":"token property-access","key":500},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":501},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":502},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["// inject the client of the provider into each child"],"properties":{"class":"token comment","key":503},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["// widget"],"properties":{"class":"token comment","key":504},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":505},"type":"__VNODE_TYPE"},"child ",{"tag":"span","children":["as"],"properties":{"class":"token keyword","key":506},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["any"],"properties":{"class":"token builtin","key":507},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":508},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":509},"type":"__VNODE_TYPE"},{"tag":"span","children":["properties"],"properties":{"class":"token property-access","key":510},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":511},"type":"__VNODE_TYPE"},{"tag":"span","children":["client"],"properties":{"class":"token property-access","key":512},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":513},"type":"__VNODE_TYPE"}," client",{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":514},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":515},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":516},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":517},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["this"],"properties":{"class":"token keyword","key":518},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":519},"type":"__VNODE_TYPE"},{"tag":"span","children":["children"],"properties":{"class":"token property-access","key":520},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":521},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":522},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":523},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-tsx","key":524},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":525},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["What this ",{"tag":"em","children":["naive"],"properties":{"key":526},"type":"__VNODE_TYPE"}," ",{"tag":"code","children":["ApolloProvider"],"properties":{"key":527},"type":"__VNODE_TYPE"}," does is iterates over the ",{"tag":"code","children":["children"],"properties":{"key":528},"type":"__VNODE_TYPE"}," of the widget and injects the ",{"tag":"code","children":["client"],"properties":{"key":529},"type":"__VNODE_TYPE"}," property into each one. I'm sure the ",{"tag":"code","children":["react-apollo"],"properties":{"key":530},"type":"__VNODE_TYPE"}," implementation does much more, but I'm not going to argue with what works."],"properties":{"key":531},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Now that I have my provider, I can start to tie it all together."],"properties":{"key":532},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["The great provider"],"properties":{"id":"the-great-provider","key":533},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["In my ",{"tag":"code","children":["main.tsx"],"properties":{"key":534},"type":"__VNODE_TYPE"}," where I initialize my Dojo application, I can create my ",{"tag":"code","children":["ApolloClient"],"properties":{"key":535},"type":"__VNODE_TYPE"}," and pass it my ",{"tag":"code","children":["ApolloProvider"],"properties":{"key":536},"type":"__VNODE_TYPE"}," that will wrap my other widgets so that I can use it."],"properties":{"key":537},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/main.tsx"],"properties":{"class":"token comment","key":538},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["..."],"properties":{"class":"token spread operator","key":539},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":540},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":541},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Store"],"properties":{"class":"token maybe-class-name","key":542},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":543},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":544},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/stores/Store\""],"properties":{"class":"token string","key":545},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":546},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":547},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":548},"type":"__VNODE_TYPE"}," registerStoreInjector ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":549},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":550},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/stores/StoreInjector\""],"properties":{"class":"token string","key":551},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":552},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":553},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["ApolloClient"],"properties":{"class":"token maybe-class-name","key":554},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":555},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"apollo-boost\""],"properties":{"class":"token string","key":556},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":557},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":558},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":559},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["ApolloProvider"],"properties":{"class":"token maybe-class-name","key":560},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":561},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":562},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"./providers/ApolloProvider\""],"properties":{"class":"token string","key":563},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":564},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":565},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":566},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Countries"],"properties":{"class":"token maybe-class-name","key":567},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":568},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":569},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"./widgets/Countries\""],"properties":{"class":"token string","key":570},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":571},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["// initialize a GraphQL client"],"properties":{"class":"token comment","key":572},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":573},"type":"__VNODE_TYPE"}," client ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":574},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["new"],"properties":{"class":"token keyword","key":575},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["ApolloClient"],"properties":{"class":"token class-name","key":576},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":577},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":578},"type":"__VNODE_TYPE"},"\n  uri",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":579},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"https://countries.trevorblades.com\""],"properties":{"class":"token string","key":580},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":581},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":582},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":583},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":584},"type":"__VNODE_TYPE"}," store ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":585},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["new"],"properties":{"class":"token keyword","key":586},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Store"],"properties":{"class":"token class-name","key":587},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":588},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":589},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":590},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":591},"type":"__VNODE_TYPE"}," registry ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":592},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["registerStoreInjector"],"properties":{"class":"token function","key":593},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":594},"type":"__VNODE_TYPE"},"store",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":595},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":596},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["class"],"properties":{"class":"token keyword","key":597},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["App"],"properties":{"class":"token class-name","key":598},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["extends"],"properties":{"class":"token keyword","key":599},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["WidgetBase"],"properties":{"class":"token class-name","key":600},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":601},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["protected"],"properties":{"class":"token keyword","key":602},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["render"],"properties":{"class":"token function","key":603},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":604},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":605},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":606},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// pass the client to the ApolloProvider"],"properties":{"class":"token comment","key":607},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// The <Countries /> widget will use it"],"properties":{"class":"token comment","key":608},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":609},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":610},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":611},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":612},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":613},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":614},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n        "],"properties":{"class":"token plain-text","key":615},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":616},"type":"__VNODE_TYPE"},{"tag":"span","children":["ApolloProvider"],"properties":{"class":"token class-name","key":617},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":618},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["client"],"properties":{"class":"token attr-name","key":619},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":620},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":621},"type":"__VNODE_TYPE"},"client",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":622},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":623},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":624},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":625},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n          "],"properties":{"class":"token plain-text","key":626},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":627},"type":"__VNODE_TYPE"},"h2"],"properties":{"class":"token tag","key":628},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":629},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":630},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":631},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"\\u2728 dojo-apollo \\u2728\""],"properties":{"class":"token string","key":632},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":633},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":634},"type":"__VNODE_TYPE"},"h2"],"properties":{"class":"token tag","key":635},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":636},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":637},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n          "],"properties":{"class":"token plain-text","key":638},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":639},"type":"__VNODE_TYPE"},{"tag":"span","children":["Countries"],"properties":{"class":"token class-name","key":640},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":641},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["/>"],"properties":{"class":"token punctuation","key":642},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":643},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n        "],"properties":{"class":"token plain-text","key":644},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":645},"type":"__VNODE_TYPE"},{"tag":"span","children":["ApolloProvider"],"properties":{"class":"token class-name","key":646},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":647},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":648},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":649},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":650},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":651},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":652},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":653},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":654},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":655},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":656},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":657},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":658},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["..."],"properties":{"class":"token spread operator","key":659},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-tsx","key":660},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":661},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The sample GraphQL API I am going to use provides a list of Countries. So I'm going to write a widget that can display those results."],"properties":{"key":662},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["GraphQL results"],"properties":{"id":"graphql-results","key":663},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Here is where we get to see the fruit of our labors! We can write a widget that will display a specific set of data from our GraphQL API. So the widget can provide its own GraphQL query. This makes sense when you think of the widget as ",{"tag":"em","children":["owning"],"properties":{"key":664},"type":"__VNODE_TYPE"}," this query."],"properties":{"key":665},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":666},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":667},"type":"__VNODE_TYPE"}," tsx ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":668},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":669},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/widget-core/tsx\""],"properties":{"class":"token string","key":670},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":671},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":672},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":673},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["WidgetBase"],"properties":{"class":"token maybe-class-name","key":674},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":675},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":676},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/widget-core/WidgetBase\""],"properties":{"class":"token string","key":677},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":678},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":679},"type":"__VNODE_TYPE"}," gql ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":680},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"graphql-tag\""],"properties":{"class":"token string","key":681},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":682},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":683},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["*"],"properties":{"class":"token operator","key":684},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["as"],"properties":{"class":"token keyword","key":685},"type":"__VNODE_TYPE"}," css ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":686},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"./styles/Countries.m.css\""],"properties":{"class":"token string","key":687},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":688},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":689},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":690},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Query"],"properties":{"class":"token maybe-class-name","key":691},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":692},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":693},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"../containers/QueryContainer\""],"properties":{"class":"token string","key":694},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":695},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["interface"],"properties":{"class":"token keyword","key":696},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Country"],"properties":{"class":"token class-name","key":697},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":698},"type":"__VNODE_TYPE"},"\n  name",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":699},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["string"],"properties":{"class":"token builtin","key":700},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":701},"type":"__VNODE_TYPE"},"\n  code",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":702},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["number"],"properties":{"class":"token builtin","key":703},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":704},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":705},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["// initialize a GraphQL query"],"properties":{"class":"token comment","key":706},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":707},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":708},"type":"__VNODE_TYPE"}," query ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":709},"type":"__VNODE_TYPE"}," gql",{"tag":"span","children":[{"tag":"span","children":["`"],"properties":{"class":"token template-punctuation string","key":710},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n  ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":711},"type":"__VNODE_TYPE"},"\n    countries ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":712},"type":"__VNODE_TYPE"},"\n      name\n      code\n    ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":713},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":714},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"token graphql language-graphql","key":715},"type":"__VNODE_TYPE"},{"tag":"span","children":["`"],"properties":{"class":"token template-punctuation string","key":716},"type":"__VNODE_TYPE"}],"properties":{"class":"token template-string","key":717},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":718},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["// helper method to display each country as a list item"],"properties":{"class":"token comment","key":719},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["// each country will link to a wikipedia page"],"properties":{"class":"token comment","key":720},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":721},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["countryItems"],"properties":{"class":"token function-variable function","key":722},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":723},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":724},"type":"__VNODE_TYPE"},{"tag":"span","children":["countries",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":725},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Country"],"properties":{"class":"token maybe-class-name","key":726},"type":"__VNODE_TYPE"},{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":727},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":728},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":729},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":730},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":731},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":732},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":733},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":734},"type":"__VNODE_TYPE"},"\n  countries",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":735},"type":"__VNODE_TYPE"},{"tag":"span","children":["map"],"properties":{"class":"token method function property-access","key":736},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":737},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":738},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":739},"type":"__VNODE_TYPE"}," name",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":740},"type":"__VNODE_TYPE"}," code ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":741},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":742},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":743},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":744},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":745},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":746},"type":"__VNODE_TYPE"},"li"],"properties":{"class":"token tag","key":747},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["classes"],"properties":{"class":"token attr-name","key":748},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":749},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":750},"type":"__VNODE_TYPE"},{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":751},"type":"__VNODE_TYPE"},"css",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":752},"type":"__VNODE_TYPE"},{"tag":"span","children":["item"],"properties":{"class":"token property-access","key":753},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":754},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":755},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":756},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["key"],"properties":{"class":"token attr-name","key":757},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":758},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":759},"type":"__VNODE_TYPE"},"code",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":760},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":761},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":762},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":763},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":764},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":765},"type":"__VNODE_TYPE"},"a"],"properties":{"class":"token tag","key":766},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["classes"],"properties":{"class":"token attr-name","key":767},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":768},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":769},"type":"__VNODE_TYPE"},{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":770},"type":"__VNODE_TYPE"},"css",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":771},"type":"__VNODE_TYPE"},{"tag":"span","children":["link"],"properties":{"class":"token property-access","key":772},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":773},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":774},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":775},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["key"],"properties":{"class":"token attr-name","key":776},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":777},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":778},"type":"__VNODE_TYPE"},"code",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":779},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":780},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["href"],"properties":{"class":"token attr-name","key":781},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":782},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":783},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["`"],"properties":{"class":"token template-punctuation string","key":784},"type":"__VNODE_TYPE"},{"tag":"span","children":["https://en.wikipedia.org/wiki/"],"properties":{"class":"token string","key":785},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["${"],"properties":{"class":"token interpolation-punctuation punctuation","key":786},"type":"__VNODE_TYPE"},"name",{"tag":"span","children":["}"],"properties":{"class":"token interpolation-punctuation punctuation","key":787},"type":"__VNODE_TYPE"}],"properties":{"class":"token interpolation","key":788},"type":"__VNODE_TYPE"},{"tag":"span","children":["`"],"properties":{"class":"token template-punctuation string","key":789},"type":"__VNODE_TYPE"}],"properties":{"class":"token template-string","key":790},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":791},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":792},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["target"],"properties":{"class":"token attr-name","key":793},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token punctuation","key":794},"type":"__VNODE_TYPE"},{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":795},"type":"__VNODE_TYPE"},"_blank",{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":796},"type":"__VNODE_TYPE"}],"properties":{"class":"token attr-value","key":797},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":798},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":799},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n        "],"properties":{"class":"token plain-text","key":800},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":801},"type":"__VNODE_TYPE"},"name",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":802},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":803},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":804},"type":"__VNODE_TYPE"},"a"],"properties":{"class":"token tag","key":805},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":806},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":807},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n    "],"properties":{"class":"token plain-text","key":808},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":809},"type":"__VNODE_TYPE"},"li"],"properties":{"class":"token tag","key":810},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":811},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":812},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":813},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":814},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":815},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":816},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["class"],"properties":{"class":"token keyword","key":817},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Countries"],"properties":{"class":"token class-name","key":818},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["extends"],"properties":{"class":"token keyword","key":819},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["WidgetBase"],"properties":{"class":"token class-name","key":820},"type":"__VNODE_TYPE"},{"tag":"span","children":["<"],"properties":{"class":"token operator","key":821},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":822},"type":"__VNODE_TYPE"}," client",{"tag":"span","children":["?"],"properties":{"class":"token operator","key":823},"type":"__VNODE_TYPE"},{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":824},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["any"],"properties":{"class":"token builtin","key":825},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":826},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token operator","key":827},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":828},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["protected"],"properties":{"class":"token keyword","key":829},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["render"],"properties":{"class":"token function","key":830},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":831},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":832},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":833},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// this is the `client` that was injected by the `<ApolloProvider>`"],"properties":{"class":"token comment","key":834},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":835},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":836},"type":"__VNODE_TYPE"}," client ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":837},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":838},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["this"],"properties":{"class":"token keyword","key":839},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":840},"type":"__VNODE_TYPE"},{"tag":"span","children":["properties"],"properties":{"class":"token property-access","key":841},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":842},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":843},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":844},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":845},"type":"__VNODE_TYPE"},{"tag":"span","children":["Query"],"properties":{"class":"token class-name","key":846},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":847},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["query"],"properties":{"class":"token attr-name","key":848},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":849},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":850},"type":"__VNODE_TYPE"},"query",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":851},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":852},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["client"],"properties":{"class":"token attr-name","key":853},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":854},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":855},"type":"__VNODE_TYPE"},"client",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":856},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":857},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":858},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":859},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n        "],"properties":{"class":"token plain-text","key":860},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":861},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":862},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":863},"type":"__VNODE_TYPE"}," loading",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":864},"type":"__VNODE_TYPE"}," data ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":865},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":866},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":867},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":868},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":869},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":["// if data is still loading, show a message"],"properties":{"class":"token comment","key":870},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":871},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":872},"type":"__VNODE_TYPE"},"loading",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":873},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":874},"type":"__VNODE_TYPE"},"\n            ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":875},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":876},"type":"__VNODE_TYPE"},"span"],"properties":{"class":"token tag","key":877},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":878},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":879},"type":"__VNODE_TYPE"},{"tag":"span","children":["Loading..."],"properties":{"class":"token plain-text","key":880},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":881},"type":"__VNODE_TYPE"},"span"],"properties":{"class":"token tag","key":882},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":883},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":884},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":885},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":886},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["else"],"properties":{"class":"token keyword","key":887},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":888},"type":"__VNODE_TYPE"},"\n            ",{"tag":"span","children":["// when data is done loading, display the list"],"properties":{"class":"token comment","key":889},"type":"__VNODE_TYPE"},"\n            ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":890},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":891},"type":"__VNODE_TYPE"},"ul"],"properties":{"class":"token tag","key":892},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["classes"],"properties":{"class":"token attr-name","key":893},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":894},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":895},"type":"__VNODE_TYPE"},{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":896},"type":"__VNODE_TYPE"},"css",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":897},"type":"__VNODE_TYPE"},{"tag":"span","children":["root"],"properties":{"class":"token property-access","key":898},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":899},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":900},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":901},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":902},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":903},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":904},"type":"__VNODE_TYPE"},{"tag":"span","children":["countryItems"],"properties":{"class":"token function","key":905},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":906},"type":"__VNODE_TYPE"},"data",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":907},"type":"__VNODE_TYPE"},{"tag":"span","children":["countries"],"properties":{"class":"token property-access","key":908},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":909},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":910},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":911},"type":"__VNODE_TYPE"},"ul"],"properties":{"class":"token tag","key":912},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":913},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":914},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":915},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":916},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":917},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":918},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":919},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":920},"type":"__VNODE_TYPE"},{"tag":"span","children":["Query"],"properties":{"class":"token class-name","key":921},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":922},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":923},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":924},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":925},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":926},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":927},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":928},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-tsx","key":929},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":930},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["This widget uses our ",{"tag":"code","children":["Query"],"properties":{"key":931},"type":"__VNODE_TYPE"}," container to wrap up the part of the widget that relies on the GraphQL results. This looks pretty much exactly like ",{"tag":"code","children":["react-apollo"],"properties":{"key":932},"type":"__VNODE_TYPE"},"."],"properties":{"key":933},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["You can see this entire example in action in this ",{"tag":"a","children":["code sandbox"],"properties":{"href":"https://codesandbox.io/s/dojo-graphql-zgmi6?fontsize=14","target":"_blank","rel":"nofollow","key":934},"type":"__VNODE_TYPE"},"."],"properties":{"key":935},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["Summary"],"properties":{"id":"summary","key":936},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["This is a fairly simple implementation of a GraphQL ",{"tag":"code","children":["<Query>"],"properties":{"key":937},"type":"__VNODE_TYPE"}," and ",{"tag":"code","children":["<ApolloProvider>"],"properties":{"key":938},"type":"__VNODE_TYPE"},", but it works pretty well in a case like this. If you have multiple different queries you want to run in a single application, I think you would need to create a factory method for your containers to define multiple states that would contain different results."],"properties":{"key":939},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["This is definitely something I want to continue working on in the future and I think there might be some more ",{"tag":"em","children":["Dojo way"],"properties":{"key":940},"type":"__VNODE_TYPE"}," of handling this in some features that look to be coming to Dojo in the future."],"properties":{"key":941},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["As always, have fun with it and keep on hacking!"],"properties":{"key":942},"type":"__VNODE_TYPE"}],"properties":{"key":943},"type":"__VNODE_TYPE"},"meta":{"title":"Dojo GraphQL","date":"2019-06-17T00:00:00.000Z","author":"Rene Rubalcava","description":"How you can integrate GraphQL into your Dojo applications with Apollo and Dojo containers","tags":"javascript, dojo, webdev, graphql, dojo5","cover_image":"/assets/blog/dojo-graphql.jpg","published":true}});
/***/ })
}]);
